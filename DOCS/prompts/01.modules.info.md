# SampleModule: Global Module Explanation

## What is a Global Module in NestJS?

A global module in NestJS is a module whose providers (services, etc.) are automatically available throughout the entire application, without needing to import the module in every other module that wants to use its services. This is useful for things like configuration, logging, or database connections.

You make a module global by:

- Adding the `@Global()` decorator to the module class, or
- Setting `global: true` in the dynamic moduleâ€™s return object.

## How is SampleModule Set Up?

### sample.module.ts

- The module uses the `@Global()` decorator, making it global.
- It provides and exports `SampleService`.
- It supports a dynamic configuration pattern via a static `forRoot(options)` method, which allows you to pass options when importing the module.
- The `forRoot` method returns a `DynamicModule` object, which:
  - Registers the module as global (`global: true`).
  - Provides the options object under the token `'SAMPLE_MODULE_OPTIONS'`.
  - Registers `SampleService` as a provider and export.

### sample.service.ts

- `SampleService` is injectable and expects the `'SAMPLE_MODULE_OPTIONS'` token to be injected.
- It exposes a `getConfig()` method to access the configuration options.

### interfaces/sample-module-options.interface.ts

- Defines the shape of the configuration object:
  - `apiKey: string` (required)
  - `endpoint?: string` (optional)

## How Does This Work in Practice?

- When you import `SampleModule.forRoot({ apiKey: '...', endpoint: '...' })` in your root `AppModule`, the configuration and service are available everywhere in your app.
- Any provider in any module can inject `SampleService` without needing to import `SampleModule` again.

## Summary Table

| File                                          | Purpose                                                        |
| --------------------------------------------- | -------------------------------------------------------------- |
| sample.module.ts                              | Declares a global, dynamically-configurable module and service |
| sample.service.ts                             | Service that uses injected config options                      |
| interfaces/sample-module-options.interface.ts | Interface for the config options object                        |

## Example Usage

```typescript
// In your AppModule
@Module({
  imports: [
    SampleModule.forRoot({
      apiKey: 'my-key',
      endpoint: 'https://api.example.com',
    }),
    // ...other modules
  ],
})
export class AppModule {}
```

Now, `SampleService` is available for injection anywhere in your app.
